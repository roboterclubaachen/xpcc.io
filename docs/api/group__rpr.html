<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>xpcc: Resilient Packet Ring (RPR)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="style.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">xpcc
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__rpr.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a>  </div>
  <div class="headertitle">
<div class="title">Resilient Packet Ring (RPR)<div class="ingroups"><a class="el" href="group__communication.html">Communication</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>This is a simplified version of the <a href="http://en.wikipedia.org/wiki/Resilient_Packet_Ring">Resilient Packet Ring</a>.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structxpcc_1_1rpr_1_1_listener.html">xpcc::rpr::Listener</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Possible <a class="el" href="structxpcc_1_1rpr_1_1_listener.html" title="Possible Listener. ">Listener</a>.  <a href="structxpcc_1_1rpr_1_1_listener.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structxpcc_1_1rpr_1_1_error.html">xpcc::rpr::Error</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Possible <a class="el" href="structxpcc_1_1rpr_1_1_error.html" title="Possible Error. ">Error</a>.  <a href="structxpcc_1_1rpr_1_1_error.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxpcc_1_1rpr_1_1_node.html">xpcc::rpr::Node&lt; Interface &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Token Ring <a class="el" href="classxpcc_1_1rpr_1_1_node.html" title="Token Ring Node. ">Node</a>.  <a href="classxpcc_1_1rpr_1_1_node.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gabb9219b205aa4dfc65ed2ad45ae3b962"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__rpr.html#gabb9219b205aa4dfc65ed2ad45ae3b962">RPR__LISTEN</a>(type,  source,  command,  object,  function)</td></tr>
<tr class="memdesc:gabb9219b205aa4dfc65ed2ad45ae3b962"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define a Listener.  <a href="#gabb9219b205aa4dfc65ed2ad45ae3b962">More...</a><br /></td></tr>
<tr class="separator:gabb9219b205aa4dfc65ed2ad45ae3b962"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaabe946ffa16eb03670148be5a5d64f59"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__rpr.html#gaabe946ffa16eb03670148be5a5d64f59">RPR__ERROR</a>(address,  command,  object,  function)</td></tr>
<tr class="memdesc:gaabe946ffa16eb03670148be5a5d64f59"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define a ErrorHandler.  <a href="#gaabe946ffa16eb03670148be5a5d64f59">More...</a><br /></td></tr>
<tr class="separator:gaabe946ffa16eb03670148be5a5d64f59"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Listener callbacks to received messaged can be defined. All messages are buffered. As an optional advanced feature, error handling callbacks can also be defined.</p>
<h2>Frame Format </h2>
<pre class="fragment">       |&lt;------ FCS Coverage -----&gt;|
+------+-------+-------+-----------+-------+------+
|  SD  |  DA   |  SA   |  Payload  |  FCS  |  ED  |
+------+-------+-------+-----------+-------+------+
| 8bit | 16bit | 16bit | &gt;=0 bytes | 16bit | 8bit |
+------+-------+-------+-----------+-------+------+
</pre><h2>Frame Fields </h2>
<p>The Start Frame Delimiter (SD) and End Frame Delimiter (ED) are adapted from the <a href="http://en.wikipedia.org/wiki/High-Level_Data_Link_Control#Asynchronous_framing">HDLC asynchronous framing</a>.</p>
<p>The Desination Address (DA) and Source Address (DA) format are both 15 bit. This uses the official MAC scheme for 2 Byte addressing.</p>
<p>The Destination Address (DA) byte format: </p><pre class="fragment">  15   14  13  12  11  10   9   8      7    6   5   4   3   2   1   0
+-----+---+---+---+---+---+---+---+ +-----+---+---+---+---+---+---+---+
| I/G |   Upper (Group) Address   | |      Lower (Group) Address      |
+-----+---+---+---+---+---+---+---+ +-----+---+---+---+---+---+---+---+
      |&lt;----- (Ring Number) -----&gt;| |&lt;---- (Station Subaddress) -----&gt;|
</pre><ul>
<li>I/G bit: address is an individual (0) or a group address (1).</li>
</ul>
<p>Individual Addresses identify a perticular station on the LAN and shall be distinct from all other individual stations addresses on the same LAN.</p>
<p>Group Addresses are used to address a frame to multiple destination stations and may be associated with zero or more stations on a given LAN.</p>
<p>Broadcast Address (0xffff) is used to address every station on the LAN.</p>
<p>Null Address (0x0000) means the frame is not addressed to any particular station.</p>
<p>It is recommended to use the 7bit Upper Address to identify the ring number, and the 8bit Lower Address as a station subaddress.</p>
<p>The Source Address (SA) byte format: </p><pre class="fragment">   15   14  13  12  11  10   9   8     7   6   5   4   3   2   1   0
+------+---+---+---+---+---+---+---+ +---+---+---+---+---+---+---+---+
| Zero |        Upper Address      | |         Lower Address         |
+------+---+---+---+---+---+---+---+ +---+---+---+---+---+---+---+---+
</pre><p>The Frame Check Sequence (FCS) uses CRC-16-IBM (0xa001) polynomial with the initial value of 0xffff.</p>
<p>It is strongly recommended to keep the maximum payload length lower than 64 bytes, and break down longer payload into multiple frames. The longer the payload the more buffer each station has to allocate.</p>
<dl class="section author"><dt>Author</dt><dd>Niklas Hauser </dd></dl>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="gabb9219b205aa4dfc65ed2ad45ae3b962"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabb9219b205aa4dfc65ed2ad45ae3b962">&#9670;&nbsp;</a></span>RPR__LISTEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RPR__LISTEN</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">type, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">source, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">command, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">object, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">function&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>Type of message (uni-, multi-, broadcast, funtional or any) </td></tr>
    <tr><td class="paramname">source</td><td>address of transmitter, use 0xffff for any </td></tr>
    <tr><td class="paramname">command</td><td>Command byte, use 0xff for any </td></tr>
    <tr><td class="paramname">object</td><td>object of class to be called </td></tr>
    <tr><td class="paramname">function</td><td>Member function of object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="structxpcc_1_1rpr_1_1_listener.html" title="Possible Listener. ">xpcc::rpr::Listener</a> </dd></dl>

</div>
</div>
<a id="gaabe946ffa16eb03670148be5a5d64f59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaabe946ffa16eb03670148be5a5d64f59">&#9670;&nbsp;</a></span>RPR__ERROR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RPR__ERROR</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">address, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">command, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">object, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">function&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>Node address of message </td></tr>
    <tr><td class="paramname">command</td><td>Command of message </td></tr>
    <tr><td class="paramname">object</td><td></td></tr>
    <tr><td class="paramname">function</td><td>Member function of object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd>xpcc::rpr::ErrorHandler </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Tue Jun 27 2017 20:03:52 for xpcc by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>

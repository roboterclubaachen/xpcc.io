<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>xpcc: xpcc::Scp1000&lt; Spi, Cs, Int &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="style.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">xpcc
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Overview</span></a></li>
      <li><a href="modules.html"><span>API</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="../index.html"><span>General</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classxpcc_1_1_scp1000.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="classxpcc_1_1_scp1000-members.html">List of all members</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">xpcc::Scp1000&lt; Spi, Cs, Int &gt; Class Template Reference<div class="ingroups"><a class="el" href="group__driver.html">Device drivers</a> &raquo; <a class="el" href="group__driver__pressure.html">Pressure sensors</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>SCP1000-D01 absolute pressure sensor driver.  
 <a href="classxpcc_1_1_scp1000.html#details">More...</a></p>

<p><code>#include &lt;xpcc/driver/pressure/scp1000.hpp&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ad31cb9f20e9eea6eee11dfb6c0583925"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxpcc_1_1_scp1000.html#ad31cb9f20e9eea6eee11dfb6c0583925">initialize</a> (scp1000::Operation opMode=scp1000::OPERATION_HIGH_RESOLUTION_MODE_START)</td></tr>
<tr class="memdesc:ad31cb9f20e9eea6eee11dfb6c0583925"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets and initializes the chip to the new operation mode.  <a href="#ad31cb9f20e9eea6eee11dfb6c0583925">More...</a><br /></td></tr>
<tr class="separator:ad31cb9f20e9eea6eee11dfb6c0583925"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae07a6c5fd97f681cfc5c6947685c613b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae07a6c5fd97f681cfc5c6947685c613b"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxpcc_1_1_scp1000.html#ae07a6c5fd97f681cfc5c6947685c613b">readTemperature</a> ()</td></tr>
<tr class="memdesc:ae07a6c5fd97f681cfc5c6947685c613b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the temperature register and buffers the result sets isTemperatureAvailable() to <code>true</code>. <br /></td></tr>
<tr class="separator:ae07a6c5fd97f681cfc5c6947685c613b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd669e6644cc7c5c39955ba5023bb23c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abd669e6644cc7c5c39955ba5023bb23c"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxpcc_1_1_scp1000.html#abd669e6644cc7c5c39955ba5023bb23c">readPressure</a> ()</td></tr>
<tr class="memdesc:abd669e6644cc7c5c39955ba5023bb23c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the pressure MSB and LSB registers and buffers the results sets isPressureAvailable() to <code>true</code>. <br /></td></tr>
<tr class="separator:abd669e6644cc7c5c39955ba5023bb23c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a842559b74ac4832daf7237e43c1a4b6d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a842559b74ac4832daf7237e43c1a4b6d"></a>
static uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><b>getTemperature</b> ()</td></tr>
<tr class="separator:a842559b74ac4832daf7237e43c1a4b6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbaca9dedda4c723f80995860c910760"><td class="memItemLeft" align="right" valign="top">static uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxpcc_1_1_scp1000.html#afbaca9dedda4c723f80995860c910760">getPressure</a> ()</td></tr>
<tr class="separator:afbaca9dedda4c723f80995860c910760"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0dc1fb32e36000bcb48a93c572120bd"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxpcc_1_1_scp1000.html#ac0dc1fb32e36000bcb48a93c572120bd">setOperation</a> (scp1000::Operation opMode)</td></tr>
<tr class="memdesc:ac0dc1fb32e36000bcb48a93c572120bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes the operation mode to REGISTER_OPERATION and waits until the operation completed (up to 16ms).  <a href="#ac0dc1fb32e36000bcb48a93c572120bd">More...</a><br /></td></tr>
<tr class="separator:ac0dc1fb32e36000bcb48a93c572120bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab618da875ad24e841e158cdfe6bb96f8"><td class="memItemLeft" align="right" valign="top">static uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxpcc_1_1_scp1000.html#ab618da875ad24e841e158cdfe6bb96f8">readStatus</a> (bool opStatus=false)</td></tr>
<tr class="separator:ab618da875ad24e841e158cdfe6bb96f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a499c2f612904ce80022eacdecd1a04"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxpcc_1_1_scp1000.html#a5a499c2f612904ce80022eacdecd1a04">reset</a> (uint8_t timeout)</td></tr>
<tr class="memdesc:a5a499c2f612904ce80022eacdecd1a04"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets the chip, waits 151ms, then starts checking the status register if the startup completed.  <a href="#a5a499c2f612904ce80022eacdecd1a04">More...</a><br /></td></tr>
<tr class="separator:a5a499c2f612904ce80022eacdecd1a04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8481d8816138eadb84e999c7169186b8"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxpcc_1_1_scp1000.html#a8481d8816138eadb84e999c7169186b8">isNewTemperatureAvailable</a> ()</td></tr>
<tr class="separator:a8481d8816138eadb84e999c7169186b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90ccfe7fc22ccd0bc06113cac79d8d6f"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxpcc_1_1_scp1000.html#a90ccfe7fc22ccd0bc06113cac79d8d6f">isNewPressureAvailable</a> ()</td></tr>
<tr class="separator:a90ccfe7fc22ccd0bc06113cac79d8d6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca0bea1365d4e61b4aa79af69b1094ab"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxpcc_1_1_scp1000.html#aca0bea1365d4e61b4aa79af69b1094ab">isNewDataReady</a> ()</td></tr>
<tr class="separator:aca0bea1365d4e61b4aa79af69b1094ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;typename Spi, typename Cs, typename Int&gt;<br />
class xpcc::Scp1000&lt; Spi, Cs, Int &gt;</h3>

<p>The SCP1000 sensor measures both absolute pressure in Pa as well as temperature in degrees Celsius.</p>
<p>The sensor has 4 measurement modes plus standby and power down mode. In all measurement modes, the pressure output word-length is 19 bits and the temperature output word-length is 14 bits.</p>
<pre class="fragment">Measurement Mode: refresh | pressure | temperature
High Resolution :  1.8Hz  |  17bit   |   14bit
High Speed      :   ~9Hz  |  15bit   |   14bit
Ultra Low Power :   ~1Hz  |  15bit   |   14bit
</pre> <pre class="fragment">   DRDY pin pulled high, when new data is available.
   DRDY pin pulled low, when DATARD16 is being read.

   You do not have to read out the temperature as it is only used by the
   sensor for internal calculations, but it is important to read the
   16 bit pressure register as the last one in the cycle.
   A typical reading sequence: TEMPOUT =&gt; DATARD8 =&gt; DATARD16

   For further information on how to process the sensors data, consult the
   &lt;a href="http://www.sparkfun.com/datasheets/Components/SCP1000-D01.pdf"&gt;
   datasheet&lt;/a&gt;.

   \author  Niklas Hauser


   \tparam Spi  software or hardware Spi interface
   \tparam Cs   Chip Select pin
   \tparam Int  Interrupt pin</pre> </div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ad31cb9f20e9eea6eee11dfb6c0583925"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Spi , typename Cs , typename Int &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool <a class="el" href="classxpcc_1_1_scp1000.html">xpcc::Scp1000</a>&lt; <a class="el" href="structxpcc_1_1_spi.html">Spi</a>, Cs, Int &gt;::initialize </td>
          <td>(</td>
          <td class="paramtype">scp1000::Operation&#160;</td>
          <td class="paramname"><em>opMode</em> = <code>scp1000::OPERATION_HIGH_RESOLUTION_MODE_START</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This takes at least 152ms, since the sensor has a long boot. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">opMode</td><td>Operation Mode. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="afbaca9dedda4c723f80995860c910760"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Spi , typename Cs , typename Int &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint8_t* <a class="el" href="classxpcc_1_1_scp1000.html">xpcc::Scp1000</a>&lt; <a class="el" href="structxpcc_1_1_spi.html">Spi</a>, Cs, Int &gt;::getPressure </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>pointer to the pressure buffer array </dd></dl>

</div>
</div>
<a class="anchor" id="ac0dc1fb32e36000bcb48a93c572120bd"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Spi , typename Cs , typename Int &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool <a class="el" href="classxpcc_1_1_scp1000.html">xpcc::Scp1000</a>&lt; <a class="el" href="structxpcc_1_1_spi.html">Spi</a>, Cs, Int &gt;::setOperation </td>
          <td>(</td>
          <td class="paramtype">scp1000::Operation&#160;</td>
          <td class="paramname"><em>opMode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">opMode</td><td>Operation Mode. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> if the operation completed correctly, <code>false</code> if it took longer then 16ms to complete. </dd></dl>

</div>
</div>
<a class="anchor" id="ab618da875ad24e841e158cdfe6bb96f8"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Spi , typename Cs , typename Int &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint8_t <a class="el" href="classxpcc_1_1_scp1000.html">xpcc::Scp1000</a>&lt; <a class="el" href="structxpcc_1_1_spi.html">Spi</a>, Cs, Int &gt;::readStatus </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>opStatus</em> = <code>false</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">opStatus</td><td>set to true to read operation status. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the (operation) status. </dd></dl>

</div>
</div>
<a class="anchor" id="a5a499c2f612904ce80022eacdecd1a04"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Spi , typename Cs , typename Int &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool <a class="el" href="classxpcc_1_1_scp1000.html">xpcc::Scp1000</a>&lt; <a class="el" href="structxpcc_1_1_spi.html">Spi</a>, Cs, Int &gt;::reset </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>timeout</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timeout</td><td>time until the startup is declared as failed </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>false if a timeout occurred, true if reset correctly </dd></dl>

</div>
</div>
<a class="anchor" id="a8481d8816138eadb84e999c7169186b8"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Spi , typename Cs , typename Int &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool <a class="el" href="classxpcc_1_1_scp1000.html">xpcc::Scp1000</a>&lt; <a class="el" href="structxpcc_1_1_spi.html">Spi</a>, Cs, Int &gt;::isNewTemperatureAvailable </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>true, if temperature buffer has been refreshed, but not read </dd></dl>

</div>
</div>
<a class="anchor" id="a90ccfe7fc22ccd0bc06113cac79d8d6f"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Spi , typename Cs , typename Int &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool <a class="el" href="classxpcc_1_1_scp1000.html">xpcc::Scp1000</a>&lt; <a class="el" href="structxpcc_1_1_spi.html">Spi</a>, Cs, Int &gt;::isNewPressureAvailable </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>true, if pressure buffer has been refreshed, but not read </dd></dl>

</div>
</div>
<a class="anchor" id="aca0bea1365d4e61b4aa79af69b1094ab"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Spi , typename Cs , typename Int &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool <a class="el" href="classxpcc_1_1_scp1000.html">xpcc::Scp1000</a>&lt; <a class="el" href="structxpcc_1_1_spi.html">Spi</a>, Cs, Int &gt;::isNewDataReady </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>state of the INT pin, not buffered! </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>scp1000.hpp</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacexpcc.html">xpcc</a></li><li class="navelem"><a class="el" href="classxpcc_1_1_scp1000.html">Scp1000</a></li>
    <li class="footer">Generated on Sun Nov 20 2016 22:41:23 for xpcc by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>

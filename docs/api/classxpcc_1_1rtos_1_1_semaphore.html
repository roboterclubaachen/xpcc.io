<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>xpcc: xpcc::rtos::Semaphore Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="style.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">xpcc
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Overview</span></a></li>
      <li><a href="modules.html"><span>API</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="../index.html"><span>General</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classxpcc_1_1rtos_1_1_semaphore.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="classxpcc_1_1rtos_1_1_semaphore-members.html">List of all members</a> &#124;
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">xpcc::rtos::Semaphore Class Reference<div class="ingroups"><a class="el" href="group__processing.html">Processing</a> &raquo; <a class="el" href="group__freertos.html">FreeRTOS</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Counting semaphore.  
 <a href="classxpcc_1_1rtos_1_1_semaphore.html#details">More...</a></p>

<p><code>#include &lt;xpcc/processing/rtos/freertos/semaphore.hpp&gt;</code></p>
<div class="dynheader">
Inheritance diagram for xpcc::rtos::Semaphore:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classxpcc_1_1rtos_1_1_semaphore.png" usemap="#xpcc::rtos::Semaphore_map" alt=""/>
  <map id="xpcc::rtos::Semaphore_map" name="xpcc::rtos::Semaphore_map">
<area href="classxpcc_1_1rtos_1_1_semaphore_base.html" title="Base class for binary and counting semaphores. " alt="xpcc::rtos::SemaphoreBase" shape="rect" coords="0,0,173,24"/>
<area href="classxpcc_1_1rtos_1_1_binary_semaphore.html" title="Binary semaphore. " alt="xpcc::rtos::BinarySemaphore" shape="rect" coords="0,112,173,136"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a96912e5e5eae204661ffb07227a0448a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxpcc_1_1rtos_1_1_semaphore.html#a96912e5e5eae204661ffb07227a0448a">Semaphore</a> (uint32_t <a class="el" href="namespacexpcc.html#ae3d404c7b50cd33ba8db845cb1657c50">max</a>, uint32_t initial)</td></tr>
<tr class="memdesc:a96912e5e5eae204661ffb07227a0448a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a counting semaphore.  <a href="#a96912e5e5eae204661ffb07227a0448a">More...</a><br /></td></tr>
<tr class="separator:a96912e5e5eae204661ffb07227a0448a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3aea7d7633547be493ff9e5f3a73827d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxpcc_1_1rtos_1_1_semaphore.html#a3aea7d7633547be493ff9e5f3a73827d">acquire</a> (uint32_t timeout=-1)</td></tr>
<tr class="memdesc:a3aea7d7633547be493ff9e5f3a73827d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Aquire the semaphore.  <a href="#a3aea7d7633547be493ff9e5f3a73827d">More...</a><br /></td></tr>
<tr class="separator:a3aea7d7633547be493ff9e5f3a73827d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fdb0fdbe13bd0ebbf5e14af625af662"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxpcc_1_1rtos_1_1_semaphore.html#a8fdb0fdbe13bd0ebbf5e14af625af662">release</a> ()</td></tr>
<tr class="memdesc:a8fdb0fdbe13bd0ebbf5e14af625af662"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release the semaphore.  <a href="#a8fdb0fdbe13bd0ebbf5e14af625af662">More...</a><br /></td></tr>
<tr class="separator:a8fdb0fdbe13bd0ebbf5e14af625af662"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85240089ec174f99e138305436f12c89"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a85240089ec174f99e138305436f12c89"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxpcc_1_1rtos_1_1_semaphore.html#a85240089ec174f99e138305436f12c89">releaseFromInterrupt</a> ()</td></tr>
<tr class="memdesc:a85240089ec174f99e138305436f12c89"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release the <a class="el" href="classxpcc_1_1rtos_1_1_semaphore.html" title="Counting semaphore. ">Semaphore</a> from within an interrupt context. <br /></td></tr>
<tr class="separator:a85240089ec174f99e138305436f12c89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a440b58a672def186c4acb22df25205c8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxpcc_1_1rtos_1_1_semaphore.html#a440b58a672def186c4acb22df25205c8">Semaphore</a> (unsigned portBASE_TYPE <a class="el" href="namespacexpcc.html#ae3d404c7b50cd33ba8db845cb1657c50">max</a>, unsigned portBASE_TYPE initial)</td></tr>
<tr class="memdesc:a440b58a672def186c4acb22df25205c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a counting semaphore.  <a href="#a440b58a672def186c4acb22df25205c8">More...</a><br /></td></tr>
<tr class="separator:a440b58a672def186c4acb22df25205c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classxpcc_1_1rtos_1_1_semaphore_base"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classxpcc_1_1rtos_1_1_semaphore_base')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classxpcc_1_1rtos_1_1_semaphore_base.html">xpcc::rtos::SemaphoreBase</a></td></tr>
<tr class="memitem:a0b7b068974747e2e8841d2c7c2332bc0 inherit pub_methods_classxpcc_1_1rtos_1_1_semaphore_base"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxpcc_1_1rtos_1_1_semaphore_base.html#a0b7b068974747e2e8841d2c7c2332bc0">acquire</a> (portTickType timeout=portMAX_DELAY)</td></tr>
<tr class="memdesc:a0b7b068974747e2e8841d2c7c2332bc0 inherit pub_methods_classxpcc_1_1rtos_1_1_semaphore_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Aquire the semaphore.  <a href="#a0b7b068974747e2e8841d2c7c2332bc0">More...</a><br /></td></tr>
<tr class="separator:a0b7b068974747e2e8841d2c7c2332bc0 inherit pub_methods_classxpcc_1_1rtos_1_1_semaphore_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a374349827dd06ac79ce0ddd7ed82f115 inherit pub_methods_classxpcc_1_1rtos_1_1_semaphore_base"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxpcc_1_1rtos_1_1_semaphore_base.html#a374349827dd06ac79ce0ddd7ed82f115">release</a> ()</td></tr>
<tr class="memdesc:a374349827dd06ac79ce0ddd7ed82f115 inherit pub_methods_classxpcc_1_1rtos_1_1_semaphore_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release the semaphore.  <a href="#a374349827dd06ac79ce0ddd7ed82f115">More...</a><br /></td></tr>
<tr class="separator:a374349827dd06ac79ce0ddd7ed82f115 inherit pub_methods_classxpcc_1_1rtos_1_1_semaphore_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa67b180e3f87f5632c10f77f8b2fdc12 inherit pub_methods_classxpcc_1_1rtos_1_1_semaphore_base"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxpcc_1_1rtos_1_1_semaphore_base.html#aa67b180e3f87f5632c10f77f8b2fdc12">releaseFromInterrupt</a> ()</td></tr>
<tr class="memdesc:aa67b180e3f87f5632c10f77f8b2fdc12 inherit pub_methods_classxpcc_1_1rtos_1_1_semaphore_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release the <a class="el" href="classxpcc_1_1rtos_1_1_semaphore.html" title="Counting semaphore. ">Semaphore</a> from within an interrupt context.  <a href="#aa67b180e3f87f5632c10f77f8b2fdc12">More...</a><br /></td></tr>
<tr class="separator:aa67b180e3f87f5632c10f77f8b2fdc12 inherit pub_methods_classxpcc_1_1rtos_1_1_semaphore_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_attribs_classxpcc_1_1rtos_1_1_semaphore_base"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classxpcc_1_1rtos_1_1_semaphore_base')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classxpcc_1_1rtos_1_1_semaphore_base.html">xpcc::rtos::SemaphoreBase</a></td></tr>
<tr class="memitem:a766755cdc38e082cd2aeabebdd4a79e7 inherit pro_attribs_classxpcc_1_1rtos_1_1_semaphore_base"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a766755cdc38e082cd2aeabebdd4a79e7"></a>
xSemaphoreHandle&#160;</td><td class="memItemRight" valign="bottom"><b>handle</b></td></tr>
<tr class="separator:a766755cdc38e082cd2aeabebdd4a79e7 inherit pro_attribs_classxpcc_1_1rtos_1_1_semaphore_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Counting semaphores are typically used for two things:</p>
<ol type="1">
<li>Counting events. <br />
 In this usage scenario an event handler will 'release' a semaphore each time an event occurs (incrementing the semaphore count value), and a handler thread will 'acquire' a semaphore each time it processes an event (decrementing the semaphore count value). The count value is therefore the difference between the number of events that have occurred and the number that have been processed. In this case it is desirable for the initial count value to be zero.</li>
<li>Resource management. In this usage scenario the count value indicates the number of resources available. To obtain control of a resource a thread must first obtain a semaphore - decrementing the semaphore count value. When the count value reaches zero there are no free resources. When a thread finishes with the resource it 'gives' the semaphore back (<a class="el" href="classxpcc_1_1rtos_1_1_semaphore.html#a8fdb0fdbe13bd0ebbf5e14af625af662" title="Release the semaphore. ">release()</a>) - incrementing the semaphore count value. In this case it is desirable for the initial count value to be equal to the maximum count value, indicating that all resources are free. </li>
</ol>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a96912e5e5eae204661ffb07227a0448a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">xpcc::rtos::Semaphore::Semaphore </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>initial</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">max</td><td>Maximum count value </td></tr>
    <tr><td class="paramname">initial</td><td>Initial value </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a440b58a672def186c4acb22df25205c8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">xpcc::rtos::Semaphore::Semaphore </td>
          <td>(</td>
          <td class="paramtype">unsigned portBASE_TYPE&#160;</td>
          <td class="paramname"><em>max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned portBASE_TYPE&#160;</td>
          <td class="paramname"><em>initial</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">max</td><td>Maximum count value </td></tr>
    <tr><td class="paramname">initial</td><td>Initial value </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a3aea7d7633547be493ff9e5f3a73827d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool xpcc::rtos::Semaphore::acquire </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>timeout</em> = <code>-1</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Decrements the internal count. This function might be called 'take' or 'wait' in other implementations. </p>

</div>
</div>
<a class="anchor" id="a8fdb0fdbe13bd0ebbf5e14af625af662"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void xpcc::rtos::Semaphore::release </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Increments the internal count. This function might be called 'give' or 'signal' in other implementations. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>rtos/boost/semaphore.hpp</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacexpcc.html">xpcc</a></li><li class="navelem"><b>rtos</b></li><li class="navelem"><a class="el" href="classxpcc_1_1rtos_1_1_semaphore.html">Semaphore</a></li>
    <li class="footer">Generated on Fri May 5 2017 22:29:39 for xpcc by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
